{% macro getTypeName(utils, type) %}
  {% import "/java/types.twig" as types %}
  {% set className = utils.getClassName(type) %}

  {% if (className == "ArrayType") %}
    {% if (type.type.name) %}
      {{ type.type.name.path | join(".") }}[]
    {% else %}
      {{ primitiveTypes[type.type.token.toString()] }}[]
    {% endif %}
  {% elseif (className == "ListType") %}
    {% if (type.type.name) %}
      java.util.List<{{ type.type.name.path | join(".") }}>
    {% else %}
      java.util.List<{{ classTypes[type.type.token.toString()] }}>
    {% endif %}
  {% else %}
    {% if (type.name) %}
      {{ type.name.path | join(".") }}
    {% else %}
      {{ primitiveTypes[type.token.toString()] }}
    {% endif %}
  {% endif %}
{% endmacro %}
