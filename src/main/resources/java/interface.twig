{%- import "/java/types.twig" as types -%}
{%- import "/java/macros.twig" as macros -%}

{%- set name = definition.name.simpleName -%}

{% set pkg = "" %}
{% for p in definition.name.path %}
  {% if (loop.revindex0 != 0) %}
    {% if (loop.index0 != 0) %}
      {% set pkg = concat(pkg, ".", lower(p)) %}
    {% else %}
      {% set pkg = concat(pkg, lower(p)) %}
    {% endif %}
  {% endif %}
{% endfor %}
{% if (pkg != "") %}
  package {{ pkg }};
{% endif %}

public abstract class {{ name }}
{% if (definition.parent) -%}
  extends {{ trim(macros.getBaseType(definition.parentDefinition)) }}
{%- endif -%}
{

{% for field in definition.fields %}
  {%- set typeName = trim(macros.getTypeName(utils, field.type)) -%}
  protected {{ typeName }} {{ utils.toCamelCase(field.name) }};
  {%- if (utils.getClassName(field.type) == "ArrayType") %}
    public static final int {{ utils.toUpperCase(field.name) }}_LENGTH = {{ field.type.length }};
  {% endif -%}
{% endfor %}

public void reset() {
{% include "/java/reset.twig" %}
}

public abstract {{ name }} copy();

{% include "/java/getset.twig" %}

}
