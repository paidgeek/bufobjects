{% if (definition.parent is not null) -%}
int size = super.size();
{%- else -%}
int size = 0;
{% endif %}
{%- for field in definition.fields -%}
  {%- set camelCase = utils.toCamelCase(field.name) -%}
  {%- if (utils.getClassName(field.type) == "ArrayType") -%}
    {%- if(field.type.type.token.toString() == "IDENTIFIER") -%}
      for(int i = 0; i < {{ utils.toUpperCase(field.name) }}_LENGTH; i++) {
        size += this.{{ camelCase }}[i].size();
      {% if (field.type.type.definition.hasChildren) %}
        size += BufferObjectBuilder.get{{ builderTypeNames[bufferObjectIdType] }}Size(this.{{ camelCase }}[i].bufferObjectId());
      {% endif %}
      }
      size += {{ utils.toUpperCase(field.name) }}_LENGTH;
    {%- elseif (utils.getClassName(field.type.type.definition) == "EnumDefinition") -%}
      size += {{ utils.toUpperCase(field.name) }}_LENGTH * {{ typeSizes[field.type.type.definition.type.toString()] }};
    {% elseif (field.type.type.token.toString() == "s") %}
      for(int i = 0; i < {{ utils.toUpperCase(field.name) }}_LENGTH; i++) {
        size += BufferObjectBuilder.getStringSize(this.{{ camelCase }}[i]);
      }
    {%- else -%}
      size += {{ utils.toUpperCase(field.name) }}_LENGTH * {{ typeSizes[field.type.type.token.toString()] }};
    {%- endif -%}
  {%- elseif (utils.getClassName(field.type) == "ListType") -%}
    size += BufferObjectBuilder.getVarUInt32Size(this.{{ camelCase }}.size());
    {%- if(field.type.type.token.toString() == "IDENTIFIER") -%}
      for(int i = 0; i < this.{{ camelCase }}.size(); i++) {
        size += this.{{ camelCase }}.get(i).size();
      {% if (length(field.type.type.definition.children) != 0) %}
        size += BufferObjectBuilder.get{{ builderTypeNames[bufferObjectIdType] }}Size(this.{{ camelCase }}.get(i).bufferObjectId());
      {% endif %}
      }
      size += this.{{ camelCase }}.size();
    {%- elseif (utils.getClassName(field.type.type.definition) == "EnumDefinition") -%}
      size += this.{{ camelCase }}.size() * {{ typeSizes[field.type.type.definition.type.toString()] }};
    {%- else -%}
      size += this.{{ camelCase }}.size() * {{ typeSizes[field.type.token.toString()] }};
    {%- endif -%}
  {%- elseif (utils.getClassName(field.type.definition) == "EnumDefinition") -%}
    size += {{ typeSizes[field.type.definition.type.toString()] }};
  {%- elseif (field.type.token.toString() == "IDENTIFIER") %}
    size += this.{{ camelCase }}.size() + 1;
  {%- elseif (field.type.token.toString() == "s") %}
    size += BufferObjectBuilder.getStringSize(this.{{ camelCase }});
  {%- else -%}
    size += {{ typeSizes[field.type.token.toString()] }};
  {%- endif %}
{%- endfor -%}
return size;