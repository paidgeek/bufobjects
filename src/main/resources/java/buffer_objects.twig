{%- import "/java/macros.twig" as macros -%}
{%- import "/java/types.twig" as types -%}
package {{ lower(topNamespace) }};

// Generated with https://github.com/paidgeek/bufobjects

@SuppressWarnings("all")
public final class BufferObjects {
{%- for namespace, definitions in schema -%}
{%- for definition in definitions -%}
{%- if(utils.getClassName(definition) == "TypeDefinition") %}
  public static final {{ primitiveTypes[bufferObjectIdType] }} {{ trim(macros.getBufferObjectIdName(definition)) }} = {{ ids[definition] }};
{%- endif -%}
{%- endfor -%}
{%- endfor %}

  public static void writeTo(BufferObjectBuilder bob, BufferObject obj) {
    bob.writeVarUInt32(obj.getBufferObjectId());
    obj.writeTo(bob);
  }

  public static BufferObject readFrom(BufferObjectBuilder bob) {
    {{ primitiveTypes[bufferObjectIdType] }} id = bob.read{{ builerTypeNames[bufferObjectIdType] }}();
    BufferObject obj = null;
    switch(id) {
    {%- for namespace, definitions in schema -%}
      {%- for definition in definitions -%}
        {% if(utils.getClassName(definition) == "TypeDefinition") -%}
          {%- set name = definition.name.simpleName -%}
          {%- set camelCase = utils.toCamelCase(name) -%}
          {%- set typeName = trim(macros.getTypeNameForDefinition(definition)) -%}
          case {{ trim(macros.getBufferObjectIdName(definition)) }}:
          obj = new {{ typeName }}();
          obj.readFrom(bob);
          break;
        {% endif -%}
      {%- endfor -%}
    {%- endfor -%}
    }
    return obj;
  }

}