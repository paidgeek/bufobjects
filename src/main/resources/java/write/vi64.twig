long value = ({{ name }} << 1) ^ ({{ name }} >> 63);
while (true) {
  int bits = ((int) value) & 0x7f;
  value >>>= 7;
  if (value == 0) {
    b[off++] = (byte) bits;
    break;
  }
  b[off++] = (byte) (bits | 0x80);
}