{%- import "/cpp/macros.twig" as macros -%}

{% for field in definition.fields -%}
  {%- set camelCase = utils.toCamelCase(field.name) -%}
  {%- set className = utils.getClassName(field.type) -%}
  {%- set typeName = trim(macros.getTypeName(utils, field.type, 1)) -%}
  {{ typeName }}
  {% if (field.type.token.toString() == "b") -%}
    Is
  {%- else -%}
    Get
  {%- endif -%}
  {{ field.name }}() {
{% if (field.type.token.toString() == "s") %}
    return BufferObjectBuilder.getStringFromBytes(this.{{ camelCase }});
{% elseif (className == "ArrayType" and field.type.type.token.toString() == "s") %}
    String[] arr = new String[{{ utils.toUpperCase(field.name) }}_LENGTH];
    for (int i = 0; i < {{ utils.toUpperCase(field.name) }}_LENGTH; i++) {
      arr[i] = BufferObjectBuilder.getStringFromBytes(this.{{ camelCase }}[i]);
    }
    return arr;
{% elseif (className == "ListType" and field.type.type.token.toString() == "s") %}
    java.util.List< String> list = new java.util.ArrayList< String>(this.{{ camelCase }}.size());
    for (int i = 0; i < this.{{ camelCase }}.size(); i++) {
      list.add(BufferObjectBuilder.getStringFromBytes(this.{{ camelCase }}.get(i)));
    }
    return list;
{% else %}
    return this.{{ camelCase }};
{% endif %}
  }

  void Set{{ field.name }}({{ typeName }} {{ camelCase }}) {
{% if (typeName == "String") %}
    this.{{ camelCase }} = BufferObjectBuilder.getStringBytes({{ camelCase }});
{% elseif (className == "ArrayType" and field.type.type.token.toString() == "s") %}
    this.{{ camelCase }} = new byte[{{ utils.toUpperCase(field.name) }}_LENGTH][];
    for (int i = 0; i < {{ utils.toUpperCase(field.name) }}_LENGTH; i++) {
      this.{{ camelCase }}[i] = BufferObjectBuilder.getStringBytes({{ camelCase }}[i]);
    }
{% elseif (className == "ListType" and field.type.type.token.toString() == "s") %}
    this.{{ camelCase }} = new java.util.ArrayList< byte[]>({{ camelCase }}.size());
    for (int i = 0; i < {{ camelCase }}.size(); i++) {
      this.{{ camelCase }}.add(BufferObjectBuilder.getStringBytes({{ camelCase }}.get(i)));
    }
{% else %}
    this.{{ camelCase }} = {{ camelCase }};
{% endif %}
  }

{% if (className == "ListType") %}
  {{ trim(macros.getBaseType(field.type.type, 1))}} get{{ field.name }}At(int index) {
  {% if (field.type.type.token.toString() == "s") %}
    return BufferObjectBuilder.getStringFromBytes(this.{{ camelCase }}.get(index));
  {% else %}
    return this.{{ camelCase }}.get(index);
  {% endif %}
  }

  void Set{{ field.name }}At(int index, {{ trim(macros.getBaseType(field.type.type, 1)) }} value) {
  {% if (field.type.type.token.toString() == "s") %}
    this.{{ camelCase }}.set(index, BufferObjectBuilder.getStringBytes(value));
  {% else %}
    this.{{ camelCase }}.set(index, value);
  {% endif %}
  }
{% elseif (className == "ArrayType") %}
  {{ trim(macros.getBasePrimitiveType(field.type.type, 1)) }} get{{ field.name }}At(int index) {
  {% if (field.type.type.token.toString() == "s") %}
    return BufferObjectBuilder.getStringFromBytes(this.{{ camelCase }}[index]);
  {% else %}
    return this.{{ camelCase }}[index];
  {% endif %}
  }

  void Set{{ field.name }}At(int index, {{ trim(macros.getBasePrimitiveType(field.type.type, 1)) }} value) {
  {% if (field.type.type.token.toString() == "s") %}
    this.{{ camelCase }}[index] = BufferObjectBuilder.getStringBytes(value);
  {% else %}
    this.{{ camelCase }}[index] = value;
  {% endif %}
  }
{% endif %}
{%- endfor %}
